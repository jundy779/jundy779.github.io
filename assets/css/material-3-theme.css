:root {
  /* Material 3 Color Tokens - Light Theme (Blue Source) */
  --md-sys-color-primary: #0061a4;
  --md-sys-color-on-primary: #ffffff;
  --md-sys-color-primary-container: #d1e4ff;
  --md-sys-color-on-primary-container: #001d36;

  --md-sys-color-secondary: #535f70;
  --md-sys-color-on-secondary: #ffffff;
  --md-sys-color-secondary-container: #d7e3f7;
  --md-sys-color-on-secondary-container: #101c2b;

  --md-sys-color-tertiary: #6b5778;
  --md-sys-color-on-tertiary: #ffffff;
  --md-sys-color-tertiary-container: #f2daff;
  --md-sys-color-on-tertiary-container: #251431;

  --md-sys-color-error: #ba1a1a;
  --md-sys-color-on-error: #ffffff;

  --md-sys-color-background: #fdfcff;
  --md-sys-color-on-background: #1a1c1e;

  --md-sys-color-surface: #fdfcff;
  --md-sys-color-on-surface: #1a1c1e;
  --md-sys-color-surface-variant: #dfe2eb;
  --md-sys-color-on-surface-variant: #43474e;

  --md-sys-color-outline: #73777f;

  --md-sys-typescale-body-font: 'Roboto', 'Open Sans', sans-serif;
  --md-sys-typescale-display-font: 'Roboto', 'Poppins', sans-serif;

  --md-sys-shape-corner-small: 8px;
  --md-sys-shape-corner-medium: 12px;
  --md-sys-shape-corner-large: 16px;
  --md-sys-shape-corner-extra-large: 28px;
  --md-sys-shape-corner-full: 50%;
}

/* Dark Mode Tokens */
body.dark-mode {
  --md-sys-color-primary: #9ecaff;
  --md-sys-color-on-primary: #003258;
  --md-sys-color-primary-container: #00497d;
  --md-sys-color-on-primary-container: #d1e4ff;

  --md-sys-color-secondary: #bbc7db;
  --md-sys-color-on-secondary: #253140;
  --md-sys-color-secondary-container: #3b4858;
  --md-sys-color-on-secondary-container: #d7e3f7;

  --md-sys-color-tertiary: #d6bee4;
  --md-sys-color-on-tertiary: #3b2948;
  --md-sys-color-tertiary-container: #523f5f;
  --md-sys-color-on-tertiary-container: #f2daff;

  --md-sys-color-background: #1a1c1e;
  --md-sys-color-on-background: #e2e2e6;

  --md-sys-color-surface: #1a1c1e;
  --md-sys-color-on-surface: #e2e2e6;
  --md-sys-color-surface-variant: #43474e;
  --md-sys-color-on-surface-variant: #c3c7cf;

  --md-sys-color-outline: #8d9199;
}

/* Global Overrides */
body {
  background-color: var(--md-sys-color-background);
  color: var(--md-sys-color-on-background);
  font-family: var(--md-sys-typescale-body-font);
  transition: background-color 0.3s ease, color 0.3s ease;
}

h1, h2, h3, h4, h5, h6 {
  font-family: var(--md-sys-typescale-display-font);
  color: var(--md-sys-color-on-surface);
}

a {
  color: var(--md-sys-color-primary);
  text-decoration: none;
  transition: all 0.2s ease;
}

a:hover {
  color: var(--md-sys-color-tertiary);
}

/* Buttons */
.btn {
  border-radius: var(--md-sys-shape-corner-extra-large);
  padding: 10px 24px;
  font-weight: 500;
  text-transform: capitalize;
  letter-spacing: 0.5px;
  border: none;
  box-shadow: none;
  transition: all 0.2s ease;
}

.btn-primary {
  background-color: var(--md-sys-color-primary);
  color: var(--md-sys-color-on-primary);
}

.btn-primary:hover {
  background-color: var(--md-sys-color-primary-container);
  color: var(--md-sys-color-on-primary-container);
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
}

/* Navbar Overrides */
#header {
  background-color: transparent;
}

#navbar {
  background: var(--md-sys-color-surface);
  box-shadow: 0 2px 4px rgba(0,0,0,0.08);
  border-radius: 0 0 var(--md-sys-shape-corner-large) var(--md-sys-shape-corner-large);
  margin: 0 16px; /* Floating effect */
  padding: 12px 24px;
  top: 16px;
  transition: all 0.3s ease;
}

body.dark-mode #navbar {
  background: var(--md-sys-color-surface-variant);
  color: var(--md-sys-color-on-surface-variant);
}

#navbar .navbar-brand {
  color: var(--md-sys-color-primary);
  font-weight: 700;
  text-transform: none; /* Modernizing */
  font-size: 1.5rem;
}

body.dark-mode #navbar .navbar-brand {
  color: var(--md-sys-color-on-surface);
}

#navbar .nav-link {
  color: var(--md-sys-color-on-surface-variant);
  font-weight: 500;
  border-radius: var(--md-sys-shape-corner-extra-large);
  padding: 8px 16px;
  margin: 0 4px;
}

#navbar .nav-link:hover, #navbar .nav-link.active {
  background-color: var(--md-sys-color-primary-container);
  color: var(--md-sys-color-on-primary-container);
  transform: none; /* Resetting original transform */
}

#navbar .btn-contact {
  background-color: var(--md-sys-color-tertiary);
  color: var(--md-sys-color-on-tertiary);
}

#navbar .btn-contact:hover {
  background-color: var(--md-sys-color-tertiary-container);
  color: var(--md-sys-color-on-tertiary-container);
}

/* Hero Section */
#hero {
  background: linear-gradient(135deg, var(--md-sys-color-primary-container) 0%, var(--md-sys-color-background) 100%) !important;
  color: var(--md-sys-color-on-background) !important;
}

body.dark-mode #hero {
  background: linear-gradient(135deg, #0f1824 0%, #1a1c1e 100%) !important;
}

body.dark-mode #hero:before {
  background: rgba(0, 0, 0, 0.3); /* Dark overlay instead of white */
}

#hero h1 {
  color: var(--md-sys-color-primary) !important;
  text-shadow: none !important;
  font-weight: 800;
}

body.dark-mode #hero h1 {
  color: var(--md-sys-color-primary) !important;
}

#hero p {
  color: var(--md-sys-color-on-surface-variant) !important;
  text-shadow: none !important;
}

#hero .social-links a {
  background-color: var(--md-sys-color-surface-variant);
  color: var(--md-sys-color-on-surface-variant) !important;
  width: 48px;
  height: 48px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  transition: all 0.3s ease;
}

#hero .social-links a:hover {
  background-color: var(--md-sys-color-primary);
  color: var(--md-sys-color-on-primary) !important;
}

/* Section Titles */
.section-title h2 {
  color: var(--md-sys-color-primary);
}

.section-title h2::after {
  background: var(--md-sys-color-primary);
}

/* About Section */
.about .content h3 {
  color: var(--md-sys-color-primary);
}

/* Skills */
.skills .progress {
  background-color: var(--md-sys-color-surface-variant);
  border-radius: var(--md-sys-shape-corner-small);
  height: 8px; /* Thinner M3 style */
}

.skills .progress-bar {
  background-color: var(--md-sys-color-primary);
  border-radius: var(--md-sys-shape-corner-small);
}

/* Resume */
.resume .resume-title {
  color: var(--md-sys-color-primary);
}

.resume .resume-item {
  border-left: 2px solid var(--md-sys-color-outline);
}

.resume .resume-item::before {
  background: var(--md-sys-color-background);
  border: 2px solid var(--md-sys-color-primary);
}

.card {
  background-color: var(--md-sys-color-surface);
  border: 1px solid var(--md-sys-color-outline);
  border-radius: var(--md-sys-shape-corner-large);
  box-shadow: none; /* M3 defaults to flat/outline for cards usually, or elevation */
}

body.dark-mode .card {
  background-color: var(--md-sys-color-surface-variant);
  border-color: var(--md-sys-color-outline);
}

body.dark-mode .card h4, body.dark-mode .card h5, body.dark-mode .card p, body.dark-mode .card li {
  color: var(--md-sys-color-on-surface-variant);
}

body.dark-mode .resume-item h4 {
    color: var(--md-sys-color-primary);
}
body.dark-mode .resume-item h5 {
    background: var(--md-sys-color-surface-variant);
    color: var(--md-sys-color-on-surface-variant);
}

/* Services / Icons */
.services .icon-box {
  border-radius: var(--md-sys-shape-corner-large);
  background-color: var(--md-sys-color-surface);
  box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
  transition: all 0.3s cubic-bezier(.25,.8,.25,1);
}

.services .icon-box:hover {
  box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);
  transform: translateY(-5px);
}

/* Contact */
.contact .info {
  background-color: var(--md-sys-color-surface);
  color: var(--md-sys-color-on-surface);
  padding: 30px;
  border-radius: var(--md-sys-shape-corner-large);
  box-shadow: 0 1px 3px rgba(0,0,0,0.12);
}

.contact .info i {
  background-color: var(--md-sys-color-primary-container);
  color: var(--md-sys-color-on-primary-container);
}

.contact .php-email-form {
  background-color: var(--md-sys-color-surface);
  padding: 30px;
  border-radius: var(--md-sys-shape-corner-large);
  box-shadow: 0 1px 3px rgba(0,0,0,0.12);
}

.contact .php-email-form button[type=submit] {
  background: var(--md-sys-color-primary);
  border-radius: 100px;
}

.contact .php-email-form button[type=submit]:hover {
  background: var(--md-sys-color-primary-container);
  color: var(--md-sys-color-on-primary-container);
}

/* Dark Mode Specific Tweaks */
body.dark-mode .section-bg {
  background-color: var(--md-sys-color-background);
}

body.dark-mode .bg-light {
    background-color: var(--md-sys-color-background) !important;
}

body.dark-mode .contact .info,
body.dark-mode .contact .php-email-form {
    background-color: var(--md-sys-color-surface-variant);
}

body.dark-mode .form-control {
    background-color: var(--md-sys-color-surface);
    border-color: var(--md-sys-color-outline);
    color: var(--md-sys-color-on-surface);
}

body.dark-mode footer {
    background-color: #000000 !important;
    color: var(--md-sys-color-on-surface-variant);
}

/* FAB for Back to Top */
.back-to-top {
    background: var(--md-sys-color-primary);
    border-radius: 16px; /* M3 small FAB */
}
.back-to-top:hover {
    background: var(--md-sys-color-primary-container);
    color: var(--md-sys-color-on-primary-container);
}

/* Dark Mode Toggle Button */
#darkModeToggle {
    position: fixed;
    bottom: 80px;
    right: 15px;
    z-index: 9999;
    width: auto;
    height: auto;
    background-color: var(--md-sys-color-surface-variant) !important;
    color: var(--md-sys-color-on-surface-variant) !important;
    border: 1px solid var(--md-sys-color-outline) !important;
    border-radius: 100px !important; /* Pill shape */
    padding: 10px 20px !important;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 8px;
}

#darkModeToggle:hover {
    background-color: var(--md-sys-color-primary-container) !important;
    color: var(--md-sys-color-on-primary-container) !important;
}
